# 指针相关知识

## 指针相减的工作原理

在C/C++中，指针相减是指两个指针之间的距离（以元素个数为单位）。指针相减的结果是一个整数，表示两个指针之间的元素数量差。

当两个指针指向同一个数组或内存块中的元素时，它们的差值表示它们之间的元素个数。例如，如果 ptr1 和 ptr2 都指向同一个数组中的元素，则 ptr1 - ptr2 的结果是 ptr1 和 ptr2 之间的元素个数。

下是一个简单的示例，展示指针相减的用法：

```c++
#include <iostream>

int main() {
    int arr[] = {10, 20, 30, 40, 50};
    int* ptr1 = &arr[1]; // 指向数组的第二个元素
    int* ptr2 = &arr[4]; // 指向数组的第五个元素

    // 计算指针之间的距离
    int distance = ptr2 - ptr1;

    std::cout << "ptr2 和 ptr1 之间的距离: " << distance << std::endl; // 输出 3

    return 0;
}
```

## 常量指针和指针常量

在C++中，T* const 和 const T* 是两种不同的指针类型，它们的区别在于指针本身是否为常量，以及指针所指向的数据是否为常量：

- T* const 是一个常量指针，指向一个可修改的 T 类型数据。
- const T* 是一个指向常量 T 类型数据的指针，指针本身可以被修改。

在实际编程中，选择使用哪种指针类型取决于你的需求：

- 如果你希望指针始终指向同一个对象，但允许修改该对象的值，使用 T* const。
- 如果你希望指针可以指向不同的对象，但不允许修改所指向对象的值，使用 const T*。

### 常量指针 T* const

T* const 这是一个常量指针，意味着指针本身的值（即指针所指向的内存地址）是不可改变的，但指针所指向的数据可以被修改。

```c++
int a = 5;
int b = 10;
int* const ptr = &a;  // ptr 是一个常量指针，指向 int 类型
*ptr = 6;  // 合法，可以修改 ptr 所指向的值
// ptr = &b;  // 非法，不能修改 ptr 的值（即不能让 ptr 指向其他地方）
```

### 指针常量 const T*

const T* 这是一个指向常量的指针，意味着指针所指向的数据是不可改变的，但指针本身的值（即指针所指向的内存地址）可以被修改。

```c++
int a = 5;
int b = 10;
const int* ptr = &a;  // ptr 是一个指向常量 int 的指针
// *ptr = 6;  // 非法，不能修改 ptr 所指向的值
ptr = &b;  // 合法，可以修改 ptr 的值（即可以让 ptr 指向其他地方）
```


